@model FADMS.Areas.FAMSDEALER.Models.ItemViewModel
@{
    ViewData["Title"] = "ItemListByDealer";
    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="col-12 mt-3">
    <div class="card-header border" style="background-color:#F8F9FC;width:98%">
        <h4 class="m-0 font-weight-bold"> আগ্নেয়াস্ত্রের তালিকা </h4>
    </div>
</div>
<div class="col-12" style="width:98%">
    <div class="card ">
        <div class="card-body">
            <table class="table table-striped table-bordered table-sm" id="tblItem">
                <thead>
                    <tr>
                        <th>সিরিয়াল নং </th>
                        <th>স্পেসিফিকেশন নাম </th>
                        <th>আগ্নেয়াস্ত্রের কোড</th>
                        <th>আগ্নেয়াস্ত্রের ধরন</th>
                        <th>আগ্নেয়াস্ত্রের মডেল</th>
                        <th>সম্পাদনা করুন </th>
                    </tr>
                </thead>
                <tbody>
                    @{ int sl = 1;}
                    @foreach (var data in Model.itemSpecifications)
                    {
                        <tr>
                            <td>@sl</td>
                            <td>@data.specificationName</td>
                            <td>@data.itemCode</td>
                            <td>@data.ArmType?.ArmTypeName</td>
                            <td>@data.costingMethod</td>
                            <td>
                                <a class="btn btn-success" href="/FAMSDEALER/ItemInfo/AddItem?itemid=@data.Id"><i class="fa fa-edit"></i></a>
                                <a class="btn btn-danger" onclick="Remove(@data.Id)" href="#"><i class="fa fa-trash-alt"></i></a>
                            </td>
                        </tr>
                        sl++;
                    }
                </tbody>
            </table>
        </div>
    </div>
</div>
@section Scripts{
    <script>
        $(document).ready(function () {
            $('#tblItem').DataTable();
        });

        function Edit(id, name, code, type, model, desc) {
            $('#itemId').val(id);
            $('#itemCode').val(code);
            $('#itemName').val(name);
            $('#armsTypeId').val(type);
            $('#costingMethod').val(model);
            $('#itemDescription').val(desc);
        }
        function Remove(id) {
             swal({
                title: 'Are you sure?', text: 'Do you want to delete this record!', type: 'warning', showCancelButton: true, confirmButtonColor: '#3085d6', cancelButtonColor: '#d33', confirmButtonText: 'Yes, delete it!'
            }).then(function () {
                $.ajax({
                    url: '@Url.Action("DeleteItems", "ItemInfo")',
                    data: { Id: id },
                    type: 'GET',
                })
                    .done(function (res) {
                        console.log(res);
                        swal('', 'Deleted Successfully!', 'success').then(function () {
                            location.reload();
                        })
					
                })
                .fail(function () {
					swal('', 'Unable to Delete!', 'warning');
                });
				});
        }
    </script>
}